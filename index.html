<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="6a97888e-site-verification" content="42ac1b0619a0961780016a4a601fa346">
    <!-- DNS预解析和预连接 -->
    <link rel="dns-prefetch" href="//www.youtube.com" />
    <link rel="dns-prefetch" href="//i.ytimg.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- 预加载关键资源 -->
    <link rel="preload" href="/images/logo.webp" as="image" type="image/webp" />
    <link rel="preload" href="/images/guides_01.webp" as="image" type="image/webp" />
    <link rel="preload" href="/images/guides_02.webp" as="image" type="image/webp" />
    <link rel="preload" href="/images/guides_03.webp" as="image" type="image/webp" />

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2596253057392425"
     crossorigin="anonymous"></script>



    <!-- 内联关键CSS防止CLS -->
    <style>
      /* 防止CLS的最小样式 */
      body {
        margin: 0;
        padding: 0;
        /* 防止字体加载导致的CLS */
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
        font-display: swap;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      /* 预设关键图片尺寸，防止图片加载导致的CLS */
      img {
        background-color: #f0f0f0;
        transition: opacity 0.3s ease;
        transform: translateZ(0);
        backface-visibility: hidden;
      }
      .logo-image {
        width: 30px;
        height: 30px;
      }
      .guide-image,
      .food-image img {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }
      .youtube-thumbnail {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .header {
        height: 80px;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 100;
        background-color: rgba(255, 255, 255, 0.9);
      }
      /* 彻底固定所有关键容器尺寸 */
      .app {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }
      .main-content {
        flex: 1;
        min-height: 800px; /* 参考cookingdom，提高到800px */
        contain: layout style;
      }
      .footer {
        min-height: 350px; /* 增加最小高度以显示内容 */
        background: #8b4513;
        contain: layout style paint;
        /* 防止文本重排 */
        font-size: 0.95rem;
        line-height: 1.6;
      }
      /* 预设footer关键文本样式 */
      .footer-content {
        min-height: 270px;
      }
      .footer-columns {
        min-height: 200px;
      }
      .footer-logo {
        min-height: 2rem;
        font-size: 1.8rem;
        line-height: 1.2;
      }
      .footer-desc {
        max-height: 5rem;
      }
      .footer-nav {
        max-height: 10rem;
      }
      @media (max-width: 992px) {
        .footer {
          min-height: 380px; /* 平板端增加高度 */
        }
        .footer-content {
          min-height: 300px;
        }
        .footer-columns {
          min-height: 240px;
        }
      }
      @media (max-width: 768px) {
        .header {
          height: 70px;
        }
        .main-content {
          min-height: 600px; /* 参考cookingdom，移动端也提高高度 */
        }
        .footer {
          min-height: 320px; /* 移动端增加高度 */
        }
        .footer-content {
          min-height: 240px;
        }
        .footer-columns {
          min-height: 180px;
        }
        .footer-logo {
          min-height: 1.8rem;
          font-size: 1.4rem;
        }
        .footer-desc {
          max-height: 4.5rem;
        }
        .footer-nav {
          max-height: 8rem;
        }
      }
    </style>

    <!-- Favicon 设置 - 支持多种尺寸和格式 -->
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="icon" href="/images/logo.webp" type="image/webp" />
    <link rel="apple-touch-icon" href="/images/logo.webp" />
    <link rel="manifest" href="/manifest.json" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#6a4c93" />
    <meta name="author" content="Dreamy Room Guide Team" />

    <!-- 增强SEO Meta Tags -->
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta
      name="googlebot"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta
      name="bingbot"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />

    <!-- 应用相关Meta -->
    <meta name="application-name" content="Dreamy Room Guide" />
    <meta name="msapplication-TileColor" content="#6a4c93" />
    <meta name="msapplication-config" content="/browserconfig.xml" />

    <!-- 安全相关 -->
    <meta name="referrer" content="strict-origin-when-cross-origin" />

    <!-- 预加载关键资源 - 只预加载立即需要的资源 -->
    <link
      rel="preload"
      href="/images/logo.webp"
      as="image"
      type="image/webp"
      fetchpriority="high"
    />

    <!-- DNS 预解析 -->
    <link rel="dns-prefetch" href="//www.googletagmanager.com" />
    <link rel="dns-prefetch" href="//www.google-analytics.com" />

    <!-- 关键 CSS 内联 - 优化版本 -->
    <style>
      /* 关键渲染路径 CSS - 只包含首屏必需的样式 */
      * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
        background-color: #faf5ff;
        color: #6a4c93;
        line-height: 1.6;
        min-height: 100vh;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-display: swap; /* 优化字体加载 */
      }

      .container {
        width: 100%;
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 1rem;
        padding-right: 1rem;
      }

      /* 防止布局偏移的关键样式 */
      img {
        max-width: 100%;
        height: auto;
        display: block;
      }

      /* 关键图片样式内联 */
      .guide-image-placeholder {
        width: 100%;
        height: 200px;
        background-color: #f0f0f0;
        position: relative;
        overflow: hidden;
        contain: layout paint;
        will-change: transform;
        transform: translateZ(0);
        backface-visibility: hidden;
        content-visibility: auto; /* 优化渲染性能 */
        contain-intrinsic-size: 0 200px; /* 提供估计高度 */
      }

      .guide-image-placeholder img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        transform: translateZ(0);
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
      }

      /* 加载指示器 */
      .loading-spinner {
        width: 40px;
        height: 40px;
        border: 4px solid rgba(106, 76, 147, 0.3);
        border-radius: 50%;
        border-top-color: #6a4c93;
        animation: spin 1s ease-in-out infinite;
        margin: 2rem auto;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* 首屏内容优化 */
      .hero {
        min-height: 60vh;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        contain: layout style;
      }

      /* 移动端优化 */
      @media (max-width: 767px) {
        .guide-image-placeholder {
          height: 150px;
          aspect-ratio: 300 / 150;
          contain-intrinsic-size: 0 150px;
        }

        .hero {
          min-height: 50vh;
          padding: 2rem 1rem;
        }
      }

      /* 预加载状态样式 */
      .preload-hidden {
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .preload-visible {
        opacity: 1;
      }
    </style>
    <title>Dreamy Room Game Guides</title>
    <meta
      name="description"
      content="Explore every corner of the dreamy room and unlock the secrets of all levels. Find comprehensive guides, tips, and tricks for Dreamy Room Level game."
    />
    <meta
      name="keywords"
      content="dreamy room level, game guide, puzzle game, room decoration, game tips"
    />

    <!-- Open Graph 标签 - 用于社交媒体分享和搜索结果 -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Dreamy Room All Level Walkthroughs Guide" />
    <meta
      property="og:description"
      content="Your companion for all 50 levels of Dreamy Room puzzle game. This complete guides will help you unpack every puzzle in Dreamy Room with ease and enjoyment!"
    />
    <meta property="og:image" content="/images/logo.webp" />
    <meta property="og:url" content="https://www.dreamyroom.co" />
    <meta property="og:site_name" content="Dreamy Room Guide" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card 标签 -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Dreamy Room All Level Walkthroughs Guide" />
    <meta
      name="twitter:description"
      content="Your companion for all 50 levels of Dreamy Room puzzle game. Complete guides for every puzzle!"
    />
    <meta name="twitter:image" content="/images/logo.webp" />

    <!-- 增强结构化数据 - JSON-LD -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Dreamy Room Guide",
        "alternateName": "DreamyRoom.co",
        "url": "https://www.dreamyroom.co",
        "description": "Complete walkthrough guides for all levels of Dreamy Room puzzle game. Master every level with step-by-step strategies, tips, and tricks.",
        "inLanguage": ["en", "zh"],
        "publisher": {
          "@type": "Organization",
          "name": "Dreamy Room Guide Team",
          "url": "https://www.dreamyroom.co",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.dreamyroom.co/images/logo.webp",
            "width": 240,
            "height": 240
          },
          "sameAs": ["https://www.dreamyroom.co/about", "https://www.dreamyroom.co/contact"]
        },
        "potentialAction": {
          "@type": "SearchAction",
          "target": {
            "@type": "EntryPoint",
            "urlTemplate": "https://www.dreamyroom.co/dreamy-room-level-game-guides?search={search_term_string}"
          },
          "query-input": "required name=search_term_string"
        },
        "mainEntity": {
          "@type": "ItemList",
          "name": "Dreamy Room Game Guides",
          "description": "Complete collection of Dreamy Room level guides and walkthroughs",
          "numberOfItems": 102,
          "itemListElement": [
            {
              "@type": "HowTo",
              "name": "Dreamy Room Level 1 Guide",
              "description": "Complete walkthrough for Dreamy Room Level 1",
              "url": "https://www.dreamyroom.co/dreamy-room-level-1"
            }
          ]
        }
      }
    </script>

    <!-- 智能预加载和Google Analytics -->
    <script>
      // 延迟加载Google Analytics以提升性能
      window.dataLayer = window.dataLayer || []
      function gtag() {
        dataLayer.push(arguments)
      }

      // 智能预加载 - 只在用户即将看到指南部分时预加载
      function setupIntelligentPreload() {
        // 使用Intersection Observer监听指南部分
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                // 用户即将看到指南部分，开始预加载
                const criticalImages = [
                  '/images/guides_01.webp',
                  '/images/guides_02.webp',
                  '/images/guides_03.webp',
                ]

                criticalImages.forEach((src) => {
                  const link = document.createElement('link')
                  link.rel = 'preload'
                  link.as = 'image'
                  link.href = src
                  link.type = 'image/webp'
                  document.head.appendChild(link)
                })

                // 预加载完成后停止观察
                observer.disconnect()
              }
            })
          },
          {
            rootMargin: '200px', // 提前200px开始预加载
          },
        )

        // 查找指南部分并开始观察
        setTimeout(() => {
          const guidesSection =
            document.getElementById('guides') ||
            document.querySelector('.guides') ||
            document.querySelector('[class*="guide"]')
          if (guidesSection) {
            observer.observe(guidesSection)
          }
        }, 1000)
      }

      // 页面加载完成后的优化
      window.addEventListener('load', function () {
        // 启动智能预加载
        setupIntelligentPreload()

        // 延迟加载GA脚本（生产环境）
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
          // 延迟3秒加载GA，减少对首屏性能的影响
          setTimeout(() => {
            const script = document.createElement('script')
            script.async = true
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-XDPMML0BQW'
            document.head.appendChild(script)

            script.onload = function () {
              gtag('js', new Date())
              gtag('config', 'G-XDPMML0BQW')
            }
          }, 3000)
        }
      })
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
